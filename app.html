<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paiva Gestão & Finanças</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #1a3a6c;
            --secondary: #2c5282;
            --accent: #38a169;
            --warning: #dd6b20;
            --danger: #e53e3e;
            --light: #f5f7fa;
            --dark: #2d3748;
            --text: #333;
            --white: #ffffff;
            --green-dark: #2f855a;
            --blue-light: #4299e1;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: var(--text);
            line-height: 1.6;
            padding: 0;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header */
        header {
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--white);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .logo i {
            font-size: 2rem;
            color: var(--accent);
        }
        
        /* Navigation */
        .nav-container {
            background: var(--white);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .tabs {
            display: flex;
            overflow-x: auto;
            padding: 0 15px;
        }
        
        .tab {
            padding: 15px 20px;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark);
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            transition: all 0.3s ease;
        }
        
        .tab:hover, .tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--accent);
        }
        
        /* Main Content */
        .main-content {
            padding: 30px 0;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .module-header {
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .module-header h2 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .module-header p {
            color: var(--dark);
            line-height: 1.7;
        }
        
        .calculators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .calculator-card {
            background: var(--white);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }
        
        .calculator-card:hover {
            transform: translateY(-5px);
        }
        
        .calculator-header {
            background: var(--secondary);
            color: var(--white);
            padding: 15px 20px;
        }
        
        .calculator-header h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
        }
        
        .calculator-body {
            padding: 20px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(56, 161, 105, 0.2);
        }
        
        button {
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--white);
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(43, 108, 176, 0.4);
        }
        
        .btn-accent {
            background: linear-gradient(90deg, var(--accent) 0%, var(--green-dark) 100%);
        }
        
        .btn-warning {
            background: linear-gradient(90deg, var(--warning) 0%, #c05621 100%);
        }
        
        .btn-danger {
            background: linear-gradient(90deg, var(--danger) 0%, #c53030 100%);
        }
        
        .result-card {
            background: #f0f7ff;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid var(--accent);
        }
        
        .result-card h4 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .result-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
            padding: 8px 15px;
            background: #e6f7ff;
            border-radius: 8px;
            display: inline-block;
        }
        
        .interpretation {
            background: #e6fffa;
            border-left: 4px solid var(--accent);
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin-top: 15px;
            font-size: 0.95rem;
        }
        
        .interpretation.warning {
            background: #fffaf0;
            border-left: 4px solid var(--warning);
        }
        
        .interpretation.danger {
            background: #fff5f5;
            border-left: 4px solid var(--danger);
        }
        
        .interpretation.success {
            background: #f0fff4;
            border-left: 4px solid var(--accent);
        }
        
        .interpretation-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        /* Product Analysis */
        .product-form {
            background: var(--white);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .products-list {
            margin-top: 30px;
            background: var(--white);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .products-list h3 {
            margin-bottom: 20px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .product-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--white);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .product-table th {
            background: var(--secondary);
            color: var(--white);
            text-align: left;
            padding: 12px 15px;
        }
        
        .product-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .product-table tr:last-child td {
            border-bottom: none;
        }
        
        .product-table tr:hover {
            background: #f8fafc;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .analysis-section {
            margin-top: 25px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .analysis-section h3 {
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .analysis-card {
            background: #f8fafc;
            border-radius: 8px;
            padding: 15px;
            border-left: 3px solid var(--accent);
        }
        
        .analysis-card.warning {
            border-left-color: var(--warning);
            background: #fffaf0;
        }
        
        .analysis-card.danger {
            border-left-color: var(--danger);
            background: #fff5f5;
        }
        
        .analysis-card.success {
            border-left-color: var(--accent);
            background: #f0fff4;
        }
        
        .analysis-card h4 {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .recommendation {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* Footer */
        footer {
            background: var(--dark);
            color: var(--white);
            padding: 30px 0;
            margin-top: 50px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }
        
        .footer-section h3 {
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            margin-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .calculators-grid {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                padding: 0 10px;
            }
            
            .tab {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-calculator"></i>
                    <h1>Paiva Gestão & Finanças</h1>
                </div>
                <div class="tagline">
                    <p>Ferramentas financeiras para empreendedores moçambicanos</p>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Navigation -->
    <div class="nav-container">
        <div class="container">
            <div class="tabs">
                <div class="tab active" data-tab="products">Análise de Produtos</div>
                <div class="tab" data-tab="interest">Juros e Tempo</div>
                <div class="tab" data-tab="sales">Vendas e Preços</div>
                <div class="tab" data-tab="viability">Viabilidade</div>
                <div class="tab" data-tab="production">Produção</div>
                <div class="tab" data-tab="planning">Planejamento</div>
                <div class="tab" data-tab="tax">Tributário</div>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="container">
        <div class="main-content">
            <!-- Módulo 1: Análise de Produtos -->
            <div class="tab-content active" id="products-tab">
                <div class="module-header">
                    <h2><i class="fas fa-boxes"></i> Análise de Produtos</h2>
                    <p>Cadastre seus produtos e obtenha uma análise completa de rentabilidade, lucratividade e recomendações estratégicas.</p>
                </div>
                
                <div class="product-form">
                    <h3><i class="fas fa-plus-circle"></i> Adicionar Novo Produto</h3>
                    <div class="form-grid">
                        <div class="input-group">
                            <label for="product-name">Nome do Produto</label>
                            <input type="text" id="product-name" placeholder="Ex: Farinha 1kg">
                        </div>
                        <div class="input-group">
                            <label for="buy-price">Preço de Compra (MZN)</label>
                            <input type="number" id="buy-price" placeholder="Ex: 200">
                        </div>
                        <div class="input-group">
                            <label for="sell-price">Preço de Venda (MZN)</label>
                            <input type="number" id="sell-price" placeholder="Ex: 300">
                        </div>
                        <div class="input-group">
                            <label for="quantity">Quantidade Vendida/Mês</label>
                            <input type="number" id="quantity" placeholder="Ex: 40">
                        </div>
                        <div class="input-group">
                            <label for="capacity">Capacidade Máxima/Mês</label>
                            <input type="number" id="capacity" placeholder="Ex: 60">
                        </div>
                        <div class="input-group">
                            <label for="costs">Custos Adicionais (MZN)</label>
                            <input type="number" id="costs" placeholder="Ex: 50">
                        </div>
                    </div>
                    <button class="btn-accent" id="add-product">
                        <i class="fas fa-plus"></i> Adicionar Produto
                    </button>
                </div>
                
                <div class="products-list">
                    <h3><i class="fas fa-list"></i> Produtos Cadastrados</h3>
                    <table class="product-table">
                        <thead>
                            <tr>
                                <th>Produto</th>
                                <th>Custo</th>
                                <th>Venda</th>
                                <th>Quantidade</th>
                                <th>Lucro</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="products-container">
                            <!-- Produtos serão adicionados aqui via JavaScript -->
                        </tbody>
                    </table>
                    
                    <div class="action-buttons">
                        <button class="btn-accent" id="analyze-products">
                            <i class="fas fa-chart-line"></i> Analisar Produtos
                        </button>
                        <button class="btn-danger" id="clear-products">
                            <i class="fas fa-trash-alt"></i> Limpar Tudo
                        </button>
                    </div>
                </div>
                
                <div class="analysis-section" id="product-analysis-results">
                    <h3><i class="fas fa-chart-pie"></i> Análise Financeira</h3>
                    <div id="analysis-content">
                        <p>Adicione produtos e clique em "Analisar Produtos" para ver os resultados</p>
                    </div>
                </div>
            </div>
            
            <!-- Módulo 2: Juros e Tempo -->
            <div class="tab-content" id="interest-tab">
                <div class="module-header">
                    <h2><i class="fas fa-percentage"></i> Cálculos de Juros e Tempo</h2>
                    <p>Para entender empréstimos, dívidas e investimentos simples. Esses cálculos são fundamentais para qualquer empreendedor que lida com financiamentos ou investimentos.</p>
                </div>
                
                <div class="calculators-grid">
                    <!-- Calculadora 1: Juros Simples -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-coins"></i> Juros Simples</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="principal">Capital Inicial (MZN)</label>
                                <input type="number" id="principal" placeholder="Ex: 10000">
                            </div>
                            <div class="input-group">
                                <label for="interest-rate">Taxa de Juros (% ao período)</label>
                                <input type="number" id="interest-rate" placeholder="Ex: 5" step="0.01">
                            </div>
                            <div class="input-group">
                                <label for="periods">Número de Períodos</label>
                                <input type="number" id="periods" placeholder="Ex: 12">
                            </div>
                            <button class="btn-accent" id="calculate-simple">
                                <i class="fas fa-calculator"></i> Calcular Juros
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-chart-line"></i> Resultado</h4>
                                <p>Montante Final: <span class="result-value" id="simple-result">0.00 MZN</span></p>
                                <p>Juros Acumulados: <span class="result-value" id="simple-interest">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Este cálculo é ideal para empréstimos de curto prazo. Em Moçambique, muitos microcréditos usam juros simples.</p>
                                    <p id="simple-interpretation">Para um capital de <strong>0 MZN</strong> a <strong>0%</strong> durante <strong>0 meses</strong>, o valor final representa seu compromisso total.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Calculadora 2: Juros Compostos -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-chart-line"></i> Juros Compostos</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="principal-compound">Capital Inicial (MZN)</label>
                                <input type="number" id="principal-compound" placeholder="Ex: 10000">
                            </div>
                            <div class="input-group">
                                <label for="interest-rate-compound">Taxa de Juros (% ao período)</label>
                                <input type="number" id="interest-rate-compound" placeholder="Ex: 5" step="0.01">
                            </div>
                            <div class="input-group">
                                <label for="periods-compound">Número de Períodos</label>
                                <input type="number" id="periods-compound" placeholder="Ex: 12">
                            </div>
                            <button class="btn-accent" id="calculate-compound">
                                <i class="fas fa-calculator"></i> Calcular Juros
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-chart-line"></i> Resultado</h4>
                                <p>Montante Final: <span class="result-value" id="compound-result">0.00 MZN</span></p>
                                <p>Juros Acumulados: <span class="result-value" id="compound-interest">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Bancos em Moçambique geralmente usam juros compostos. Seu dinheiro cresce exponencialmente, especialmente em investimentos de longo prazo.</p>
                                    <p id="compound-interpretation">Com uma taxa de <strong>0%</strong>, seu capital inicial de <strong>0 MZN</strong> terá um crescimento significativo ao longo do tempo.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Calculadora 3: Tabela SAC -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-table"></i> Tabela SAC</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="loan-amount">Valor do Empréstimo (MZN)</label>
                                <input type="number" id="loan-amount" placeholder="Ex: 50000">
                            </div>
                            <div class="input-group">
                                <label for="loan-interest">Taxa de Juros (% ao mês)</label>
                                <input type="number" id="loan-interest" placeholder="Ex: 1.5" step="0.01">
                            </div>
                            <div class="input-group">
                                <label for="loan-term">Número de Parcelas</label>
                                <input type="number" id="loan-term" placeholder="Ex: 24">
                            </div>
                            <button class="btn-accent" id="calculate-sac">
                                <i class="fas fa-calculator"></i> Gerar Tabela
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-file-invoice-dollar"></i> Resumo</h4>
                                <p>Total Pago: <span class="result-value" id="sac-total">0.00 MZN</span></p>
                                <p>Total de Juros: <span class="result-value" id="sac-interest">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> O SAC é vantajoso para quem busca pagar menos juros no longo prazo. Suas parcelas iniciais serão mais altas, mas diminuirão com o tempo.</p>
                                    <p id="sac-interpretation">Para um empréstimo de <strong>0 MZN</strong> a <strong>0%</strong> ao mês, o total de juros mostra o custo real do financiamento.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Módulo 3: Vendas e Preços -->
            <div class="tab-content" id="sales-tab">
                <div class="module-header">
                    <h2><i class="fas fa-tag"></i> Vendas e Preços</h2>
                    <p>Para saber quanto cobrar por um produto e garantir lucro. Essas ferramentas ajudam a precificar corretamente seus produtos e serviços.</p>
                </div>
                
                <div class="calculators-grid">
                    <!-- Calculadora 1: Margem de Lucro -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-percent"></i> Margem de Lucro</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="margin-cost-price">Preço de Custo (MZN)</label>
                                <input type="number" id="margin-cost-price" placeholder="Ex: 200">
                            </div>
                            <div class="input-group">
                                <label for="margin-sell-price">Preço de Venda (MZN)</label>
                                <input type="number" id="margin-sell-price" placeholder="Ex: 300">
                            </div>
                            <button class="btn-accent" id="calculate-margin">
                                <i class="fas fa-calculator"></i> Calcular Margem
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-chart-pie"></i> Resultado</h4>
                                <p>Margem de Lucro: <span class="result-value" id="margin-result">0%</span></p>
                                <p>Lucro por Unidade: <span class="result-value" id="unit-profit">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Sua margem de lucro determina a saúde financeira do seu produto. Em Moçambique, produtos básicos costumam ter margens entre 20-40%.</p>
                                    <p id="margin-interpretation">Com um custo de <strong>0 MZN</strong> e venda a <strong>0 MZN</strong>, cada unidade vendida contribui diretamente para seu lucro operacional.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Calculadora 2: Markup -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-calculator"></i> Markup</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="markup-cost">Preço de Custo (MZN)</label>
                                <input type="number" id="markup-cost" placeholder="Ex: 200">
                            </div>
                            <div class="input-group">
                                <label for="markup-percent">Percentual de Markup (%)</label>
                                <input type="number" id="markup-percent" placeholder="Ex: 50" step="0.01">
                            </div>
                            <button class="btn-accent" id="calculate-markup">
                                <i class="fas fa-calculator"></i> Calcular Preço
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-tag"></i> Resultado</h4>
                                <p>Preço de Venda: <span class="result-value" id="markup-result">0.00 MZN</span></p>
                                <p>Lucro por Unidade: <span class="result-value" id="markup-profit">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> O markup é essencial para cobrir custos e gerar lucro. Considere o poder de compra do consumidor moçambicano ao definir seu percentual.</p>
                                    <p id="markup-interpretation">Com markup de <strong>0%</strong> sobre um custo de <strong>0 MZN</strong>, você garante uma margem saudável para sustentar seu negócio.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Calculadora 3: Descontos Promocionais -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-tags"></i> Descontos Promocionais</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="original-price">Preço Original (MZN)</label>
                                <input type="number" id="original-price" placeholder="Ex: 500">
                            </div>
                            <div class="input-group">
                                <label for="discount-percent">Percentual de Desconto (%)</label>
                                <input type="number" id="discount-percent" placeholder="Ex: 15" step="0.01">
                            </div>
                            <button class="btn-accent" id="calculate-discount">
                                <i class="fas fa-calculator"></i> Calcular Desconto
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-percentage"></i> Resultado</h4>
                                <p>Preço com Desconto: <span class="result-value" id="discount-result">0.00 MZN</span></p>
                                <p>Valor do Desconto: <span class="result-value" id="discount-value">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Descontos são estratégicos para aumentar vendas, mas reduzem sua margem. Analise seu custo antes de aplicar qualquer desconto.</p>
                                    <p id="discount-interpretation">Um desconto de <strong>0%</strong> sobre <strong>0 MZN</strong> representa uma redução significativa no seu lucro por unidade.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Módulo 4: Viabilidade Financeira -->
            <div class="tab-content" id="viability-tab">
                <div class="module-header">
                    <h2><i class="fas fa-chart-line"></i> Viabilidade Financeira</h2>
                    <p>Para avaliar se o negócio ou investimento vale a pena. Essas ferramentas ajudam a tomar decisões estratégicas sobre novos empreendimentos.</p>
                </div>
                
                <div class="calculators-grid">
                    <!-- Calculadora 1: Ponto de Equilíbrio -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-balance-scale"></i> Ponto de Equilíbrio</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="fixed-costs">Custos Fixos (MZN)</label>
                                <input type="number" id="fixed-costs" placeholder="Ex: 5000">
                            </div>
                            <div class="input-group">
                                <label for="break-even-unit-price">Preço de Venda Unitário (MZN)</label>
                                <input type="number" id="break-even-unit-price" placeholder="Ex: 100">
                            </div>
                            <div class="input-group">
                                <label for="break-even-unit-cost">Custo Variável Unitário (MZN)</label>
                                <input type="number" id="break-even-unit-cost" placeholder="Ex: 40">
                            </div>
                            <button class="btn-accent" id="calculate-break-even">
                                <i class="fas fa-calculator"></i> Calcular
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-bullseye"></i> Resultado</h4>
                                <p>Ponto de Equilíbrio: <span class="result-value" id="break-even-result">0 unidades</span></p>
                                <p>Valor em MZN: <span class="result-value" id="break-even-value">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Este é o número mínimo de vendas para não ter prejuízo. Seu negócio em Moçambique precisa superar esse patamar para ser lucrativo.</p>
                                    <p id="break-even-interpretation">Com custos fixos de <strong>0 MZN</strong> e margem unitária de <strong>0 MZN</strong>, você precisa vender pelo menos essa quantidade para cobrir todos os custos.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Calculadora 2: ROI -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-hand-holding-usd"></i> ROI - Retorno sobre Investimento</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="roi-investment">Investimento Inicial (MZN)</label>
                                <input type="number" id="roi-investment" placeholder="Ex: 10000">
                            </div>
                            <div class="input-group">
                                <label for="roi-net-profit">Lucro Líquido (MZN)</label>
                                <input type="number" id="roi-net-profit" placeholder="Ex: 3000">
                            </div>
                            <button class="btn-accent" id="calculate-roi">
                                <i class="fas fa-calculator"></i> Calcular ROI
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-chart-bar"></i> Resultado</h4>
                                <p>ROI: <span class="result-value" id="roi-result">0%</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> O ROI mostra o retorno do seu investimento. Para pequenos negócios em Moçambique, um ROI acima de 20% ao ano é considerado saudável.</p>
                                    <p id="roi-interpretation">Com investimento de <strong>0 MZN</strong> e lucro de <strong>0 MZN</strong>, esse resultado indica a eficiência do uso do seu capital.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Calculadora 3: Payback -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-history"></i> Payback (Retorno)</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="payback-investment">Investimento Inicial (MZN)</label>
                                <input type="number" id="payback-investment" placeholder="Ex: 20000">
                            </div>
                            <div class="input-group">
                                <label for="payback-monthly-profit">Lucro Mensal Estimado (MZN)</label>
                                <input type="number" id="payback-monthly-profit" placeholder="Ex: 3000">
                            </div>
                            <button class="btn-accent" id="calculate-payback">
                                <i class="fas fa-calculator"></i> Calcular Payback
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-calendar-alt"></i> Resultado</h4>
                                <p>Tempo de Retorno: <span class="result-value" id="payback-result">0 meses</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Este é o tempo necessário para recuperar seu investimento. Paybacks acima de 24 meses são considerados arriscados para pequenos negócios em Moçambique.</p>
                                    <p id="payback-interpretation">Com investimento de <strong>0 MZN</strong> e lucro mensal de <strong>0 MZN</strong>, você recuperará seu capital nesse período.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Módulo 5: Produção e Estoque -->
            <div class="tab-content" id="production-tab">
                <div class="module-header">
                    <h2><i class="fas fa-industry"></i> Produção e Estoque</h2>
                    <p>Ferramentas para otimizar sua produção e gerenciar estoque de forma eficiente.</p>
                </div>
                
                <div class="calculators-grid">
                    <!-- Calculadora 1: Giro de Estoque -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-sync-alt"></i> Giro de Estoque</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="sales-volume">Volume de Vendas Anual (MZN)</label>
                                <input type="number" id="sales-volume" placeholder="Ex: 120000">
                            </div>
                            <div class="input-group">
                                <label for="avg-inventory">Estoque Médio (MZN)</label>
                                <input type="number" id="avg-inventory" placeholder="Ex: 20000">
                            </div>
                            <button class="btn-accent" id="calculate-stock-turnover">
                                <i class="fas fa-calculator"></i> Calcular Giro
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-chart-line"></i> Resultado</h4>
                                <p>Giro de Estoque: <span class="result-value" id="turnover-result">0 vezes/ano</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> O giro de estoque mostra quantas vezes seu estoque é renovado anualmente. Um giro entre 4-6 é considerado saudável para pequenos negócios.</p>
                                    <p id="turnover-interpretation">Com vendas anuais de <strong>0 MZN</strong> e estoque médio de <strong>0 MZN</strong>, seu capital está sendo renovado nesse ritmo.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Calculadora 2: Custo de Produção -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-cogs"></i> Custo de Produção</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="raw-materials">Matérias-primas (MZN)</label>
                                <input type="number" id="raw-materials" placeholder="Ex: 5000">
                            </div>
                            <div class="input-group">
                                <label for="labor-cost">Mão de Obra (MZN)</label>
                                <input type="number" id="labor-cost" placeholder="Ex: 3000">
                            </div>
                            <div class="input-group">
                                <label for="overhead">Custos Indiretos (MZN)</label>
                                <input type="number" id="overhead" placeholder="Ex: 2000">
                            </div>
                            <div class="input-group">
                                <label for="units-produced">Unidades Produzidas</label>
                                <input type="number" id="units-produced" placeholder="Ex: 1000">
                            </div>
                            <button class="btn-accent" id="calculate-production-cost">
                                <i class="fas fa-calculator"></i> Calcular Custo
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-money-bill-wave"></i> Resultado</h4>
                                <p>Custo Total: <span class="result-value" id="total-cost">0.00 MZN</span></p>
                                <p>Custo por Unidade: <span class="result-value" id="unit-cost-result">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Conhecer seu custo real de produção é essencial para precificar corretamente e garantir lucro no mercado moçambicano.</p>
                                    <p id="production-cost-interpretation">Com <strong>0 unidades</strong> produzidas, cada unidade custa esse valor para ser fabricada. Sua precificação deve considerar esse valor.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Módulo 6: Planejamento Financeiro -->
            <div class="tab-content" id="planning-tab">
                <div class="module-header">
                    <h2><i class="fas fa-chart-pie"></i> Planejamento Financeiro</h2>
                    <p>Ferramentas para planejar e controlar suas finanças pessoais e empresariais.</p>
                </div>
                
                <div class="calculators-grid">
                    <!-- Calculadora 1: Orçamento Mensal -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-file-invoice-dollar"></i> Orçamento Mensal</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="monthly-income">Renda Mensal (MZN)</label>
                                <input type="number" id="monthly-income" placeholder="Ex: 15000">
                            </div>
                            <div class="input-group">
                                <label for="fixed-expenses">Despesas Fixas (MZN)</label>
                                <input type="number" id="fixed-expenses" placeholder="Ex: 8000">
                            </div>
                            <div class="input-group">
                                <label for="variable-expenses">Despesas Variáveis (MZN)</label>
                                <input type="number" id="variable-expenses" placeholder="Ex: 4000">
                            </div>
                            <button class="btn-accent" id="calculate-budget">
                                <i class="fas fa-calculator"></i> Calcular Saldo
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-balance-scale"></i> Resultado</h4>
                                <p>Saldo Disponível: <span class="result-value" id="available-balance">0.00 MZN</span></p>
                                <p>Porcentagem para Poupança: <span class="result-value" id="savings-percent">0%</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Um orçamento equilibrado é essencial para a saúde financeira do seu negócio em Moçambique. Tente poupar pelo menos 10% da sua renda.</p>
                                    <p id="budget-interpretation">Com renda de <strong>0 MZN</strong> e despesas totais de <strong>0 MZN</strong>, seu saldo mostra sua capacidade de investimento.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Módulo 7: Cálculos Tributários -->
            <div class="tab-content" id="tax-tab">
                <div class="module-header">
                    <h2><i class="fas fa-file-contract"></i> Cálculos Tributários</h2>
                    <p>Ferramentas para calcular impostos e taxas no contexto moçambicano.</p>
                </div>
                
                <div class="calculators-grid">
                    <!-- Calculadora 1: IVA (Imposto sobre o Valor Acrescentado) -->
                    <div class="calculator-card">
                        <div class="calculator-header">
                            <h3><i class="fas fa-percentage"></i> Cálculo de IVA</h3>
                        </div>
                        <div class="calculator-body">
                            <div class="input-group">
                                <label for="amount-before-vat">Valor sem IVA (MZN)</label>
                                <input type="number" id="amount-before-vat" placeholder="Ex: 1000">
                            </div>
                            <div class="input-group">
                                <label for="vat-rate">Taxa de IVA (%)</label>
                                <select id="vat-rate">
                                    <option value="0.17">Padrão (17%)</option>
                                    <option value="0.16">Reduzida (16%)</option>
                                </select>
                            </div>
                            <button class="btn-accent" id="calculate-vat">
                                <i class="fas fa-calculator"></i> Calcular IVA
                            </button>
                            
                            <div class="result-card">
                                <h4><i class="fas fa-receipt"></i> Resultado</h4>
                                <p>Valor do IVA: <span class="result-value" id="vat-amount">0.00 MZN</span></p>
                                <p>Valor Total: <span class="result-value" id="total-with-vat">0.00 MZN</span></p>
                                
                                <div class="interpretation">
                                    <p><strong>Interpretação:</strong> Em Moçambique, o IVA é um imposto sobre o consumo que incide sobre a maioria das transações comerciais. É essencial calcular corretamente para evitar problemas fiscais.</p>
                                    <p id="vat-interpretation">Com taxa de <strong>0%</strong>, o IVA representa esse valor adicional sobre o preço original.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Paiva Gestão & Finanças</h3>
                    <p>Plataforma desenvolvida para apoiar empreendedores moçambicanos com ferramentas financeiras práticas e contextualizadas.</p>
                    <footer style="background-color: #003366; color: white; padding: 20px;">
  <h3 style="margin-bottom: 10px;">📞 Contacte-nos</h3>
  <p><strong>WhatsApp:</strong> <a href="https://wa.me/258874413363" target="_blank" style="color: white; text-decoration: underline;">+258 87 441 3363</a></p>
  <p><strong>Email:</strong> <a href="mailto:heliopaiva111@gmail.com" style="color: white; text-decoration: underline;">heliopaiva111@gmail.com</a></p>
</footer>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Paiva Gestão & Finanças - Todos os direitos reservados</p>
            </div>
        </div>
    </footer>
    
    <script>
        // Elementos DOM
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // Event Listeners para tabs
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remover classe ativa de todas as tabs
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                
                // Adicionar classe ativa à tab clicada
                tab.classList.add('active');
                document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active');
            });
        });
        
        // Função para converter valor para número (trata campos vazios como 0)
        function toNumber(value) {
            const num = parseFloat(value);
            return isNaN(num) ? 0 : num;
        }
        
        // ============== ANÁLISE DE PRODUTOS ==============
        let products = [];
        const productsContainer = document.getElementById('products-container');
        const analysisContent = document.getElementById('analysis-content');
        
        // Adicionar produto
        document.getElementById('add-product').addEventListener('click', () => {
            const name = document.getElementById('product-name').value;
            const buyPrice = toNumber(document.getElementById('buy-price').value);
            const sellPrice = toNumber(document.getElementById('sell-price').value);
            const quantity = toNumber(document.getElementById('quantity').value);
            const capacity = toNumber(document.getElementById('capacity').value);
            const additionalCosts = toNumber(document.getElementById('costs').value);
            
            if (!name || buyPrice <= 0 || sellPrice <= 0 || quantity <= 0) {
                alert('Por favor, preencha os campos obrigatórios: Nome, Preço de Compra, Preço de Venda e Quantidade.');
                return;
            }
            
            // Calcular valores financeiros
            const unitProfit = sellPrice - buyPrice;
            const totalProfit = unitProfit * quantity;
            const profitMargin = (unitProfit / sellPrice) * 100;
            const roi = (totalProfit / (buyPrice * quantity + additionalCosts)) * 100;
            
            // Adicionar produto ao array
            products.push({
                id: Date.now(),
                name,
                buyPrice,
                sellPrice,
                quantity,
                capacity,
                additionalCosts,
                unitProfit,
                totalProfit,
                profitMargin,
                roi
            });
            
            // Atualizar lista de produtos
            updateProductsList();
            
            // Limpar formulário
            document.getElementById('product-name').value = '';
            document.getElementById('buy-price').value = '';
            document.getElementById('sell-price').value = '';
            document.getElementById('quantity').value = '';
            document.getElementById('capacity').value = '';
            document.getElementById('costs').value = '';
        });
        
        // Atualizar lista de produtos
        function updateProductsList() {
            productsContainer.innerHTML = '';
            
            if (products.length === 0) {
                productsContainer.innerHTML = '<tr><td colspan="6" style="text-align: center;">Nenhum produto cadastrado</td></tr>';
                return;
            }
            
            products.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${product.name}</td>
                    <td>${product.buyPrice.toFixed(2)} MZN</td>
                    <td>${product.sellPrice.toFixed(2)} MZN</td>
                    <td>${product.quantity}</td>
                    <td>${product.unitProfit.toFixed(2)} MZN</td>
                    <td>
                        <button class="btn-danger" onclick="removeProduct(${product.id})" style="padding: 6px 12px; font-size: 14px;">
                            <i class="fas fa-trash"></i> Remover
                        </button>
                    </td>
                `;
                productsContainer.appendChild(row);
            });
        }
        
        // Remover produto
        window.removeProduct = function(id) {
            products = products.filter(product => product.id !== id);
            updateProductsList();
        };
        
        // Limpar todos os produtos
        document.getElementById('clear-products').addEventListener('click', () => {
            products = [];
            updateProductsList();
            analysisContent.innerHTML = '<p>Adicione produtos e clique em "Analisar Produtos" para ver os resultados</p>';
        });
        
        // Analisar produtos
        document.getElementById('analyze-products').addEventListener('click', () => {
            if (products.length === 0) {
                alert('Adicione pelo menos um produto para análise.');
                return;
            }
            
            let analysisHTML = '';
            
            products.forEach(product => {
                // Calcular ponto de equilíbrio
                const breakEvenUnits = product.additionalCosts > 0 ? 
                    Math.ceil(product.additionalCosts / product.unitProfit) : 0;
                
                // Calcular rentabilidade do capital
                const capitalRoi = product.roi;
                
                analysisHTML += `
                    <div class="analysis-section">
                        <h3><i class="fas fa-box"></i> ${product.name}</h3>
                        
                        <div class="analysis-grid">
                            <div class="analysis-card">
                                <h4><i class="fas fa-money-bill-wave"></i> Resultados Financeiros</h4>
                                <p>Lucro Total: <span class="result-value">${product.totalProfit.toFixed(2)} MZN</span></p>
                                <p>Margem de Lucro: <span class="result-value">${product.profitMargin.toFixed(2)}%</span></p>
                                <p>Ponto de Equilíbrio: <span class="result-value">${breakEvenUnits} unidades</span></p>
                                <p>Unidades Vendidas: <span class="result-value">${product.quantity}</span></p>
                                <p>Rentabilidade do Capital: <span class="result-value">${capitalRoi.toFixed(2)}%</span></p>
                            </div>
                            
                            <div class="analysis-card success">
                                <h4><i class="fas fa-chart-line"></i> Análise Inteligente</h4>
                                ${generateProductAnalysis(product, breakEvenUnits)}
                            </div>
                            
                            <div class="analysis-card">
                                <h4><i class="fas fa-lightbulb"></i> Recomendações</h4>
                                ${generateProductRecommendations(product)}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            // Adicionar análise geral
            analysisHTML += generateGeneralAnalysis(products);
            
            analysisContent.innerHTML = analysisHTML;
        });
        
        // Gerar análise do produto
        function generateProductAnalysis(product, breakEvenUnits) {
            let analysis = '';
            
            // Análise de lucro
            if (product.totalProfit > 0) {
                analysis += `<p><i class="fas fa-check-circle"></i> <strong>Lucro elevado</strong>: A empresa teve um lucro expressivo de ${product.totalProfit.toFixed(2)} MZN. Isso indica que as receitas cobriram bem os custos fixos e variáveis, gerando uma boa sobra.</p>`;
            } else {
                analysis += `<p><i class="fas fa-exclamation-triangle"></i> <strong>Prejuízo</strong>: O produto apresentou prejuízo de ${Math.abs(product.totalProfit).toFixed(2)} MZN. É necessário rever a estratégia de preços e custos.</p>`;
            }
            
            // Análise de margem
            if (product.profitMargin > 30) {
                analysis += `<p><i class="fas fa-star"></i> <strong>Margem acima da média</strong>: Com ${product.profitMargin.toFixed(2)}% de margem de lucro, o negócio mostra-se sustentável e competitivo. Uma margem acima de 30% em comércio de vestuário é considerada muito boa.</p>`;
            } else if (product.profitMargin > 20) {
                analysis += `<p><i class="fas fa-thumbs-up"></i> <strong>Margem saudável</strong>: A margem de lucro de ${product.profitMargin.toFixed(2)}% está em um nível adequado para o mercado moçambicano.</p>`;
            } else {
                analysis += `<p><i class="fas fa-exclamation-circle"></i> <strong>Margem baixa</strong>: Com ${product.profitMargin.toFixed(2)}% de margem de lucro, é necessário otimizar custos ou reavaliar o preço de venda.</p>`;
            }
            
            // Análise de ponto de equilíbrio
            if (product.quantity > breakEvenUnits) {
                const excess = product.quantity - breakEvenUnits;
                analysis += `<p><i class="fas fa-bullseye"></i> <strong>Ponto de equilíbrio superado</strong>: Foram vendidas ${product.quantity} unidades, superando o ponto de equilíbrio em ${excess} unidades. Isso significa que o negócio já começou a gerar lucro real após a ${breakEvenUnits + 1}ª unidade vendida.</p>`;
            } else {
                analysis += `<p><i class="fas fa-exclamation-triangle"></i> <strong>Ponto de equilíbrio não alcançado</strong>: As vendas de ${product.quantity} unidades não alcançaram o ponto de equilíbrio de ${breakEvenUnits} unidades. O produto não cobriu seus custos fixos.</p>`;
            }
            
            // Análise de rentabilidade
            if (product.roi > 100) {
                analysis += `<p><i class="fas fa-chart-line"></i> <strong>Rentabilidade excelente</strong>: Cada metical investido gerou um retorno de ${(product.roi/100).toFixed(2)} MT. Isso representa uma ótima aplicação do capital, com retorno acima da maioria dos investimentos tradicionais.</p>`;
            } else if (product.roi > 0) {
                analysis += `<p><i class="fas fa-coins"></i> <strong>Rentabilidade positiva</strong>: O retorno sobre o investimento é positivo, mas pode ser melhorado com ajustes estratégicos.</p>`;
            } else {
                analysis += `<p><i class="fas fa-exclamation-triangle"></i> <strong>Rentabilidade negativa</strong>: O investimento neste produto não foi recuperado, indicando necessidade de revisão urgente.</p>`;
            }
            
            return analysis;
        }
        
        // Gerar recomendações para o produto
        function generateProductRecommendations(product) {
            let recommendations = '<ul>';
            
            if (product.profitMargin < 20) {
                recommendations += `<li><i class="fas fa-arrow-up"></i> <strong>Ajuste de preço</strong>: Experimente aumentar o preço em até 10% em próximas campanhas para melhorar a margem.</li>`;
            }
            
            if (product.quantity < product.capacity && product.quantity > 0) {
                const idleCapacity = product.capacity - product.quantity;
                recommendations += `<li><i class="fas fa-box-open"></i> <strong>Capacidade ociosa</strong>: Você tem ${idleCapacity} unidades de capacidade ociosa. Busque aumentar as vendas para melhorar a rentabilidade.</li>`;
            }
            
            if (product.roi > 100) {
                recommendations += `<li><i class="fas fa-arrows-alt-h"></i> <strong>Expansão</strong>: Considere aumentar a produção/vendas deste produto devido à alta rentabilidade.</li>`;
            }
            
            recommendations += `<li><i class="fas fa-sync-alt"></i> <strong>Otimizar estoques</strong>: Com vendas consistentes, planeje aumentar o lote de produção para reduzir custos unitários.</li>`;
            recommendations += `<li><i class="fas fa-seedling"></i> <strong>Reinvestir o lucro</strong>: Considere reinvestir parte do lucro em marketing ou novos modelos para manter o crescimento.</li>`;
            recommendations += `<li><i class="fas fa-layer-group"></i> <strong>Diversificação</strong>: Se o padrão de vendas se mantiver, avalie lançar novos produtos com base no sucesso desse modelo.</li>`;
            
            recommendations += '</ul>';
            return recommendations;
        }
        
        // Gerar análise geral
        function generateGeneralAnalysis(products) {
            // Calcular totais
            const totalProfit = products.reduce((sum, product) => sum + product.totalProfit, 0);
            const totalRevenue = products.reduce((sum, product) => sum + (product.sellPrice * product.quantity), 0);
            const totalCost = products.reduce((sum, product) => sum + (product.buyPrice * product.quantity) + product.additionalCosts, 0);
            const avgMargin = products.reduce((sum, product) => sum + product.profitMargin, 0) / products.length;
            
            // Encontrar produtos mais e menos rentáveis
            const bestProduct = [...products].sort((a, b) => b.roi - a.roi)[0];
            const worstProduct = [...products].sort((a, b) => a.roi - b.roi)[0];
            
            return `
                <div class="analysis-section">
                    <h3><i class="fas fa-chart-bar"></i> Análise Geral</h3>
                    
                    <div class="analysis-grid">
                        <div class="analysis-card success">
                            <h4><i class="fas fa-trophy"></i> Produto Mais Rentável</h4>
                            <p>Nome: <strong>${bestProduct.name}</strong></p>
                            <p>Margem: <span class="result-value">${bestProduct.profitMargin.toFixed(2)}%</span></p>
                            <p>ROI: <span class="result-value">${bestProduct.roi.toFixed(2)}%</span></p>
                            <p>Lucro: <span class="result-value">${bestProduct.totalProfit.toFixed(2)} MZN</span></p>
                        </div>
                        
                        <div class="analysis-card ${worstProduct.roi < 0 ? 'danger' : 'warning'}">
                            <h4><i class="fas fa-exclamation-triangle"></i> Produto Menos Rentável</h4>
                            <p>Nome: <strong>${worstProduct.name}</strong></p>
                            <p>Margem: <span class="result-value">${worstProduct.profitMargin.toFixed(2)}%</span></p>
                            <p>ROI: <span class="result-value">${worstProduct.roi.toFixed(2)}%</span></p>
                            <p>Lucro: <span class="result-value">${worstProduct.totalProfit.toFixed(2)} MZN</span></p>
                        </div>
                        
                        <div class="analysis-card">
                            <h4><i class="fas fa-chart-pie"></i> Resumo Geral</h4>
                            <p>Total Produtos: <strong>${products.length}</strong></p>
                            <p>Lucro Total: <span class="result-value">${totalProfit.toFixed(2)} MZN</span></p>
                            <p>Receita Total: <span class="result-value">${totalRevenue.toFixed(2)} MZN</span></p>
                            <p>Custo Total: <span class="result-value">${totalCost.toFixed(2)} MZN</span></p>
                            <p>Margem Média: <span class="result-value">${avgMargin.toFixed(2)}%</span></p>
                        </div>
                    </div>
                    
                    <div class="interpretation success">
                        <div class="interpretation-header">
                            <i class="fas fa-check-circle"></i>
                            <h4>Conclusão Geral</h4>
                        </div>
                        <p>O desempenho financeiro do seu portfólio de produtos é ${totalProfit > 0 ? '<strong>altamente satisfatório</strong>, com lucro total significativo e margem média saudável.' : '<strong>preocupante</strong>, com prejuízo total que exige revisão imediata da estratégia.'} O produto <strong>${bestProduct.name}</strong> se destaca como o mais rentável, enquanto <strong>${worstProduct.name}</strong> precisa de atenção especial.</p>
                        <p class="recommendation">Para melhorar seus resultados, concentre-se nas recomendações específicas para cada produto, especialmente no ajuste de preços para produtos com margens baixas e na expansão da produção para produtos com alta rentabilidade.</p>
                    </div>
                </div>
            `;
        }
        
        // ============== MÓDULO 2: JUROS E TEMPO ==============
        
        // Juros Simples
        document.getElementById('calculate-simple').addEventListener('click', () => {
            const principal = toNumber(document.getElementById('principal').value);
            const rate = toNumber(document.getElementById('interest-rate').value) / 100;
            const periods = toNumber(document.getElementById('periods').value);
            
            if (principal <= 0 || rate <= 0 || periods <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const interest = principal * rate * periods;
            const amount = principal + interest;
            
            document.getElementById('simple-result').textContent = amount.toFixed(2) + ' MZN';
            document.getElementById('simple-interest').textContent = interest.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('simple-interpretation').innerHTML = 
                `Para um capital de <strong>${principal.toLocaleString('pt')} MZN</strong> a <strong>${(rate*100).toFixed(2)}%</strong> durante <strong>${periods} meses</strong>, o valor final representa seu compromisso total.`;
        });
        
        // Juros Compostos
        document.getElementById('calculate-compound').addEventListener('click', () => {
            const principal = toNumber(document.getElementById('principal-compound').value);
            const rate = toNumber(document.getElementById('interest-rate-compound').value) / 100;
            const periods = toNumber(document.getElementById('periods-compound').value);
            
            if (principal <= 0 || rate <= 0 || periods <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const amount = principal * Math.pow(1 + rate, periods);
            const interest = amount - principal;
            
            document.getElementById('compound-result').textContent = amount.toFixed(2) + ' MZN';
            document.getElementById('compound-interest').textContent = interest.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('compound-interpretation').innerHTML = 
                `Com uma taxa de <strong>${(rate*100).toFixed(2)}%</strong>, seu capital inicial de <strong>${principal.toLocaleString('pt')} MZN</strong> terá um crescimento significativo ao longo do tempo.`;
        });
        
        // Tabela SAC
        document.getElementById('calculate-sac').addEventListener('click', () => {
            const amount = toNumber(document.getElementById('loan-amount').value);
            const rate = toNumber(document.getElementById('loan-interest').value) / 100;
            const term = toNumber(document.getElementById('loan-term').value);
            
            if (amount <= 0 || rate <= 0 || term <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            // Cálculo do SAC
            const principalPayment = amount / term;
            let balance = amount;
            let totalInterest = 0;
            
            for (let i = 0; i < term; i++) {
                const interest = balance * rate;
                balance -= principalPayment;
                totalInterest += interest;
            }
            
            const totalPayment = amount + totalInterest;
            
            document.getElementById('sac-total').textContent = totalPayment.toFixed(2) + ' MZN';
            document.getElementById('sac-interest').textContent = totalInterest.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('sac-interpretation').innerHTML = 
                `Para um empréstimo de <strong>${amount.toLocaleString('pt')} MZN</strong> a <strong>${(rate*100).toFixed(2)}%</strong> ao mês, o total de juros mostra o custo real do financiamento.`;
        });
        
        // ============== MÓDULO 3: VENDAS E PREÇOS ==============
        
        // Margem de Lucro
        document.getElementById('calculate-margin').addEventListener('click', () => {
            const cost = toNumber(document.getElementById('margin-cost-price').value);
            const sell = toNumber(document.getElementById('margin-sell-price').value);
            
            if (cost <= 0 || sell <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const profit = sell - cost;
            const margin = (profit / sell) * 100;
            
            document.getElementById('margin-result').textContent = margin.toFixed(2) + '%';
            document.getElementById('unit-profit').textContent = profit.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('margin-interpretation').innerHTML = 
                `Com um custo de <strong>${cost.toLocaleString('pt')} MZN</strong> e venda a <strong>${sell.toLocaleString('pt')} MZN</strong>, cada unidade vendida contribui diretamente para seu lucro operacional.`;
        });
        
        // Markup
        document.getElementById('calculate-markup').addEventListener('click', () => {
            const cost = toNumber(document.getElementById('markup-cost').value);
            const markup = toNumber(document.getElementById('markup-percent').value) / 100;
            
            if (cost <= 0 || markup <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const sellPrice = cost * (1 + markup);
            const profit = sellPrice - cost;
            
            document.getElementById('markup-result').textContent = sellPrice.toFixed(2) + ' MZN';
            document.getElementById('markup-profit').textContent = profit.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('markup-interpretation').innerHTML = 
                `Com markup de <strong>${(markup*100).toFixed(2)}%</strong> sobre um custo de <strong>${cost.toLocaleString('pt')} MZN</strong>, você garante uma margem saudável para sustentar seu negócio.`;
        });
        
        // Descontos
        document.getElementById('calculate-discount').addEventListener('click', () => {
            const price = toNumber(document.getElementById('original-price').value);
            const discount = toNumber(document.getElementById('discount-percent').value) / 100;
            
            if (price <= 0 || discount <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const discountValue = price * discount;
            const finalPrice = price - discountValue;
            
            document.getElementById('discount-result').textContent = finalPrice.toFixed(2) + ' MZN';
            document.getElementById('discount-value').textContent = discountValue.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('discount-interpretation').innerHTML = 
                `Um desconto de <strong>${(discount*100).toFixed(2)}%</strong> sobre <strong>${price.toLocaleString('pt')} MZN</strong> representa uma redução significativa no seu lucro por unidade.`;
        });
        
        // ============== MÓDULO 4: VIABILIDADE FINANCEIRA ==============
        
        // Ponto de Equilíbrio
        document.getElementById('calculate-break-even').addEventListener('click', () => {
            const fixedCosts = toNumber(document.getElementById('fixed-costs').value);
            const unitPrice = toNumber(document.getElementById('break-even-unit-price').value);
            const unitCost = toNumber(document.getElementById('break-even-unit-cost').value);
            
            if (fixedCosts <= 0 || unitPrice <= 0 || unitCost <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const contributionMargin = unitPrice - unitCost;
            const breakEvenUnits = Math.ceil(fixedCosts / contributionMargin);
            const breakEvenValue = breakEvenUnits * unitPrice;
            
            document.getElementById('break-even-result').textContent = breakEvenUnits + ' unidades';
            document.getElementById('break-even-value').textContent = breakEvenValue.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('break-even-interpretation').innerHTML = 
                `Com custos fixos de <strong>${fixedCosts.toLocaleString('pt')} MZN</strong> e margem unitária de <strong>${contributionMargin.toFixed(2)} MZN</strong>, você precisa vender pelo menos essa quantidade para cobrir todos os custos.`;
        });
        
        // ROI
        document.getElementById('calculate-roi').addEventListener('click', () => {
            const investment = toNumber(document.getElementById('roi-investment').value);
            const profit = toNumber(document.getElementById('roi-net-profit').value);
            
            if (investment <= 0 || profit <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const roi = (profit / investment) * 100;
            
            document.getElementById('roi-result').textContent = roi.toFixed(2) + '%';
            
            // Atualizar interpretação
            document.getElementById('roi-interpretation').innerHTML = 
                `Com investimento de <strong>${investment.toLocaleString('pt')} MZN</strong> e lucro de <strong>${profit.toLocaleString('pt')} MZN</strong>, esse resultado indica a eficiência do uso do seu capital.`;
        });
        
        // Payback
        document.getElementById('calculate-payback').addEventListener('click', () => {
            const investment = toNumber(document.getElementById('payback-investment').value);
            const monthlyProfit = toNumber(document.getElementById('payback-monthly-profit').value);
            
            if (investment <= 0 || monthlyProfit <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const months = investment / monthlyProfit;
            
            document.getElementById('payback-result').textContent = months.toFixed(1) + ' meses';
            
            // Atualizar interpretação
            document.getElementById('payback-interpretation').innerHTML = 
                `Com investimento de <strong>${investment.toLocaleString('pt')} MZN</strong> e lucro mensal de <strong>${monthlyProfit.toLocaleString('pt')} MZN</strong>, você recuperará seu capital nesse período.`;
        });
        
        // ============== MÓDULO 5: PRODUÇÃO E ESTOQUE ==============
        
        // Giro de Estoque
        document.getElementById('calculate-stock-turnover').addEventListener('click', () => {
            const sales = toNumber(document.getElementById('sales-volume').value);
            const inventory = toNumber(document.getElementById('avg-inventory').value);
            
            if (sales <= 0 || inventory <= 0) {
                alert('Por favor, preencha todos os campos corretamente.');
                return;
            }
            
            const turnover = sales / inventory;
            
            document.getElementById('turnover-result').textContent = turnover.toFixed(2) + ' vezes/ano';
            
            // Atualizar interpretação
            document.getElementById('turnover-interpretation').innerHTML = 
                `Com vendas anuais de <strong>${sales.toLocaleString('pt')} MZN</strong> e estoque médio de <strong>${inventory.toLocaleString('pt')} MZN</strong>, seu capital está sendo renovado nesse ritmo.`;
        });
        
        // Custo de Produção
        document.getElementById('calculate-production-cost').addEventListener('click', () => {
            const materials = toNumber(document.getElementById('raw-materials').value) || 0;
            const labor = toNumber(document.getElementById('labor-cost').value) || 0;
            const overhead = toNumber(document.getElementById('overhead').value) || 0;
            const units = toNumber(document.getElementById('units-produced').value);
            
            if (units <= 0) {
                alert('Por favor, preencha o campo de unidades produzidas corretamente.');
                return;
            }
            
            const totalCost = materials + labor + overhead;
            const unitCost = totalCost / units;
            
            document.getElementById('total-cost').textContent = totalCost.toFixed(2) + ' MZN';
            document.getElementById('unit-cost-result').textContent = unitCost.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('production-cost-interpretation').innerHTML = 
                `Com <strong>${units.toLocaleString('pt')} unidades</strong> produzidas, cada unidade custa <strong>${unitCost.toFixed(2)} MZN</strong> para ser fabricada. Sua precificação deve considerar esse valor.`;
        });
        
        // ============== MÓDULO 6: PLANEJAMENTO FINANCEIRO ==============
        
        // Orçamento Mensal
        document.getElementById('calculate-budget').addEventListener('click', () => {
            const income = toNumber(document.getElementById('monthly-income').value);
            const fixedExpenses = toNumber(document.getElementById('fixed-expenses').value) || 0;
            const variableExpenses = toNumber(document.getElementById('variable-expenses').value) || 0;
            
            if (income <= 0) {
                alert('Por favor, preencha o campo de renda mensal corretamente.');
                return;
            }
            
            const totalExpenses = fixedExpenses + variableExpenses;
            const balance = income - totalExpenses;
            const savingsPercent = (balance > 0) ? ((balance / income) * 100) : 0;
            
            document.getElementById('available-balance').textContent = balance.toFixed(2) + ' MZN';
            document.getElementById('savings-percent').textContent = savingsPercent.toFixed(2) + '%';
            
            // Atualizar interpretação
            document.getElementById('budget-interpretation').innerHTML = 
                `Com renda de <strong>${income.toLocaleString('pt')} MZN</strong> e despesas totais de <strong>${totalExpenses.toLocaleString('pt')} MZN</strong>, seu saldo mostra sua capacidade de investimento.`;
        });
        
        // ============== MÓDULO 7: TRIBUTÁRIO ==============
        
        // Cálculo de IVA
        document.getElementById('calculate-vat').addEventListener('click', () => {
            const amount = toNumber(document.getElementById('amount-before-vat').value);
            const rate = parseFloat(document.getElementById('vat-rate').value);
            
            if (amount <= 0) {
                alert('Por favor, preencha o valor sem IVA corretamente.');
                return;
            }
            
            const vatAmount = amount * rate;
            const totalWithVAT = amount + vatAmount;
            
            document.getElementById('vat-amount').textContent = vatAmount.toFixed(2) + ' MZN';
            document.getElementById('total-with-vat').textContent = totalWithVAT.toFixed(2) + ' MZN';
            
            // Atualizar interpretação
            document.getElementById('vat-interpretation').innerHTML = 
                `Com taxa de <strong>${(rate*100).toFixed(0)}%</strong>, o IVA representa um adicional de <strong>${vatAmount.toFixed(2)} MZN</strong> sobre o preço original.`;
        });
        
        // Inicializar
        updateProductsList();
    </script>
</body>
</html>